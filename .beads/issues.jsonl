{"id":"zzz-18a","title":"shell web: handle empty/204 responses in api client","description":"api.request 总是 response.json(); 204/空响应会抛错，导致 logout/delete 等路径失败，需要支持空体或基于 content-length/204 做分支处理。","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T22:21:20.886027+08:00","created_by":"seekwe","updated_at":"2026-01-20T02:53:05.552018+08:00","closed_at":"2026-01-20T02:53:05.552018+08:00","close_reason":"Closed"}
{"id":"zzz-1c9","title":"shell web: reap pty process on close","description":"PTY.Close 仅 Kill 进程不 Wait，可能留下僵尸进程；需要在关闭时回收或在读写循环结束后 Wait。","status":"open","priority":3,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T22:21:41.919798+08:00","created_by":"seekwe","updated_at":"2026-01-19T22:22:11.797272+08:00"}
{"id":"zzz-21t","title":"shell web: fix login rate limit ip parsing","description":"getClientIP 在无代理头时直接返回 RemoteAddr(含端口)，导致限流 key 不稳定，无法有效限制登录请求，应拆分 host:port 仅用 IP。","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T22:21:35.334439+08:00","created_by":"seekwe","updated_at":"2026-01-20T02:04:43.182369+08:00","closed_at":"2026-01-20T02:04:43.182369+08:00","close_reason":"Closed"}
{"id":"zzz-2uo","title":"agent: fix PR body parsing and CI fix detection","description":"修复 PR body 解析丢行、CI 修复迭代无法识别已提交变更的问题，并完善 duration 解析校验","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T00:28:19.126995+08:00","created_by":"seekwe","updated_at":"2026-01-20T00:36:08.660762+08:00","closed_at":"2026-01-20T00:36:08.660762+08:00","close_reason":"Closed"}
{"id":"zzz-47d","title":"修复 agent --enable-commits 崩溃","description":"调整 enable-commits 相关验证与 provider 初始化，避免在非分支提交或非 GitHub 环境下崩溃","status":"closed","priority":1,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T22:07:33.021283+08:00","created_by":"seekwe","updated_at":"2026-01-19T22:07:39.19272+08:00","closed_at":"2026-01-19T22:07:39.19272+08:00","close_reason":"Closed"}
{"id":"zzz-53u","title":"确认轮询监控对新增文件的事件触发行为","description":"watch/poller 新增 watchDir 后，新增文件仅被加入监听但可能不触发 Write/Create 事件，导致无后续写入时不触发任务；需验证并决定是否补发事件或调整 eventDispatcher 行为。","status":"open","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T12:52:46.342901+08:00","created_by":"seekwe","updated_at":"2026-01-20T12:52:55.996824+08:00"}
{"id":"zzz-5uc","title":"去重 agent prompt 追加","description":"prompt 在 BuildEnhancedPrompt 和 RunIteration 两处重复追加相同指令，导致 prompt 膨胀且重复约束。应改为单点追加。","status":"open","priority":3,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T03:05:22.742599+08:00","created_by":"seekwe","updated_at":"2026-01-20T03:05:22.742599+08:00"}
{"id":"zzz-64s","title":"避免 readPTYOutput 重复关闭 PTY","description":"readPTYOutput defer Close + sessionMgr.Delete 内部也 Close，存在重复关闭/竞态风险。应统一关闭路径或让 Delete 负责关闭。","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T03:05:16.993105+08:00","created_by":"seekwe","updated_at":"2026-01-20T14:02:55.563557+08:00","closed_at":"2026-01-20T14:02:55.563557+08:00","close_reason":"Closed"}
{"id":"zzz-8yn","title":"agent: add keep-notes-file flag","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T12:13:34.020894+08:00","created_by":"seekwe","updated_at":"2026-01-20T12:14:11.723115+08:00","closed_at":"2026-01-20T12:14:11.723115+08:00","close_reason":"Closed"}
{"id":"zzz-95e","title":"验证 agent --enable-commits 崩溃复现与 PR 路径","description":"在启用 --enable-commits + --enable-branches 的真实流程中复现原崩溃并验证修复，必要时补充日志/测试覆盖","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T22:07:07.535821+08:00","created_by":"seekwe","updated_at":"2026-01-19T22:33:34.120165+08:00","closed_at":"2026-01-19T22:33:34.120165+08:00","close_reason":"Closed"}
{"id":"zzz-9m4","title":"Enforce session ownership for delete and WS attach","description":"handleDeleteSession and handleWebSocket accept any session ID after token validation; add ownership check (claims.Username vs session.Username) or bind session IDs to user to prevent cross-user deletion/attach","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T13:23:21.085082+08:00","created_by":"seekwe","updated_at":"2026-01-20T13:24:14.362834+08:00","closed_at":"2026-01-20T13:24:14.362834+08:00","close_reason":"duplicate"}
{"id":"zzz-bfy","title":"确认 agent notes 文件保留策略","description":"确认 CLI 默认清理 notes 文件是否符合持续迭代需求；如需保留，明确默认行为或文档提示。","status":"open","priority":3,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T13:46:09.929385+08:00","created_by":"seekwe","updated_at":"2026-01-20T13:46:18.895426+08:00"}
{"id":"zzz-but","title":"shell web: investigate npm audit moderate vulnerability","description":"npm ci 在 app/shell/web 报告 1 个 moderate 漏洞；运行 npm audit 并评估依赖升级/修复方案。","status":"open","priority":3,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T02:51:42.529961+08:00","created_by":"seekwe","updated_at":"2026-01-20T02:51:48.311943+08:00"}
{"id":"zzz-fi3","title":"验证 agent 真实 PR 流程","description":"在有凭证的环境中运行 --enable-commits --enable-branches 的实际 PR 创建/合并流程，确认 provider 调用与 CI 路径。","notes":"补充发现：RepoProvider 从未初始化，CommitAndCreatePR 未被调用；当前 enable-branches 只建分支不触发 PR/CI 流程。","status":"open","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T22:38:20.403669+08:00","created_by":"seekwe","updated_at":"2026-01-20T00:32:46.985619+08:00"}
{"id":"zzz-j3r","title":"提供待审暂存变更以便代码审查","description":"当前仓库无暂存变更，需由提交者提供待审 diff 或指明具体 commit 以继续深度审查与修复。","status":"blocked","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T13:11:06.072887+08:00","created_by":"seekwe","updated_at":"2026-01-20T13:14:05.966927+08:00"}
{"id":"zzz-l3x","title":"shell web: align session id between api and websocket","description":"API 创建的 sessionId 未被 WebSocket 使用，handleWebSocket 直接生成新的 sessionID，导致重连/删除会话无法命中同一会话，需要对齐会话 ID 传递与存储。","status":"closed","priority":1,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T22:21:29.197849+08:00","created_by":"seekwe","updated_at":"2026-01-20T01:31:57.529893+08:00","closed_at":"2026-01-20T01:31:57.529893+08:00","close_reason":"Closed"}
{"id":"zzz-m5m","title":"watch: fix task scheduling race and timer leak","description":"Fix watch task scheduling: eliminate time.Tick leak and protect cmdExt map from concurrent access to avoid panic/race.","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T02:33:32.023724+08:00","created_by":"seekwe","updated_at":"2026-01-20T02:38:33.141264+08:00","closed_at":"2026-01-20T02:38:33.141264+08:00","close_reason":"Closed"}
{"id":"zzz-mil","title":"agent: wire RepoProvider and PR workflow","description":"初始化 RepoProvider/RepoInfo，并将 PR/CI 流程接入迭代路径（或明确移除相关标志），确保 enable-branches/merge-strategy/ci-retry 行为一致","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T00:41:33.859152+08:00","created_by":"seekwe","updated_at":"2026-01-20T01:09:03.578478+08:00","closed_at":"2026-01-20T01:09:03.578478+08:00","close_reason":"Closed"}
{"id":"zzz-o7w","title":"Harden login rate limiting against spoofed X-Forwarded-For","description":"handleLogin uses X-Forwarded-For unconditionally for rate limiting; only trust this header behind a trusted proxy or fall back to RemoteAddr to prevent spoofing bypass","status":"open","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T13:23:09.182812+08:00","created_by":"seekwe","updated_at":"2026-01-20T13:23:15.891+08:00"}
{"id":"zzz-ovg","title":"准备待审查的暂存变更","description":"需要提供待审查的暂存 diff 或指定 commit，以便进行深度代码审查与修复。","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T13:29:20.663979+08:00","created_by":"seekwe","updated_at":"2026-01-20T13:46:02.985363+08:00","closed_at":"2026-01-20T13:46:02.985363+08:00","close_reason":"Closed"}
{"id":"zzz-qxy","title":"复核 Web Terminal 前端与 WS 鉴权/重连一致性","description":"审查 app/shell/web 与后端 handler/ws.go 的 token 读取、会话 ID 复用/重连逻辑，确认协议一致性与安全性。","status":"open","priority":3,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T13:46:24.935867+08:00","created_by":"seekwe","updated_at":"2026-01-20T13:46:24.935867+08:00"}
{"id":"zzz-ser","title":"限制会话删除为当前用户","description":"会话删除接口仅校验 token，不校验 session 归属，导致任意登录用户可删除他人会话。需要在删除前校验 session 归属或限制为当前用户。","status":"open","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-20T03:04:53.035246+08:00","created_by":"seekwe","updated_at":"2026-01-20T03:05:11.304219+08:00"}
{"id":"zzz-vn6","title":"Fix Go toolchain mismatch for tests","notes":"已引入 mise.toml 并使用 mise exec 通过 go test ./...","status":"closed","priority":2,"issue_type":"task","owner":"seekwe@gmail.com","created_at":"2026-01-19T23:40:29.619143+08:00","created_by":"seekwe","updated_at":"2026-01-20T00:19:50.072009+08:00","closed_at":"2026-01-20T00:19:50.072009+08:00","close_reason":"Resolved"}
